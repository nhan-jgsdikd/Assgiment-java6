<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/Navar/Layout :: view(~{::main})}">
    <body>
        <main class="content">
            <link rel="stylesheet" href="css/index.css">
            <!-- Banner Slider -->
            <section class="banner-slider">
                <div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
                    <!-- Indicators -->
                    <div class="carousel-indicators">
                        <button th:each="banner, iter : ${bannerProducts}" 
                                type="button" 
                                data-bs-target="#mainCarousel" 
                                th:data-bs-slide-to="${iter.index}"
                                th:classappend="${iter.first} ? 'active' : ''"></button>
                    </div>

                    <!-- Slides -->
                    <div class="carousel-inner">
                        <div th:each="banner, iter : ${bannerProducts}" 
                            class="carousel-item" 
                            th:classappend="${iter.first} ? 'active' : ''"
                            data-bs-interval="5000">
                            <img th:src="@{${banner.photo}}"
                                class="d-block w-100" 
                                th:alt="${banner.name}"
                                style="max-height: 600px; object-fit: cover;">
                            <!-- Optional Caption -->
                            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded-3">
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </section>


                <div class="navindex">
                    <a href="#1">Sản phẩm nổi bật</a>
                    <a href="#2">Sản phẩm bán chạy</a>
                    <a href="#3">Sản phẩm mới ra mắt</a>
                    <a href="#4">Sản phẩm sắp ra mắt</a>
                    <a href="#5">Sản phẩm đang giảm giá</a>
                </div>

            <!-- Danh sách sản phẩm nổi bật -->
            <section class="featured-products" id="1">
                <h2>Sản phẩm nổi bật</h2>
                <div class="product-list">
                    <div class="product-item" th:each="product : ${indexstaff}">
                        <img th:src="@{${product.photo}}" th:alt="${product.nameProduct}">
                        <h3 th:text="${product.nameProduct}">Tên sản phẩm</h3>
                        <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">Giá sản phẩm</p>
                        <p th:text="${product.description}">Mô tả sản phẩm</p>
                        <button>Xem chi tiết</button>
                    </div>
                </div>
            </section>
            <section class="featured-products" id="2">
                <h2>Sản phẩm bán chạy</h2>
                <div class="product-list">
                    <div class="product-item" th:each="product : ${indexstaff}">
                        <img th:src="@{${product.photo}}" th:alt="${product.nameProduct}">
                        <h3 th:text="${product.nameProduct}">Tên sản phẩm</h3>
                        <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">Giá sản phẩm</p>
                        <p th:text="${product.description}">Mô tả sản phẩm</p>
                        <button>Xem chi tiết</button>
                    </div>
                </div>
            </section>
            <section class="featured-products" id="3">
                <h2>Sản phẩm mới ra mắt</h2>
                <div class="product-list">
                    <div class="product-item" th:each="product : ${indexstaff}">
                        <img th:src="@{${product.photo}}" th:alt="${product.nameProduct}">
                        <h3 th:text="${product.nameProduct}">Tên sản phẩm</h3>
                        <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">Giá sản phẩm</p>
                        <p th:text="${product.description}">Mô tả sản phẩm</p>
                        <button>Xem chi tiết</button>
                    </div>
                </div>
            </section>
            <section class="featured-products" id="4">
                <h2>Sản phẩm sắp ra mắt</h2>
                <div class="product-list">
                    <div class="product-item" th:each="product : ${indexstaff}">
                        <img th:src="@{${product.photo}}" th:alt="${product.nameProduct}">
                        <h3 th:text="${product.nameProduct}">Tên sản phẩm</h3>
                        <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">Giá sản phẩm</p>
                        <p th:text="${product.description}">Mô tả sản phẩm</p>
                        <button>Xem chi tiết</button>
                    </div>
                </div>
            </section>
            <section class="featured-products" id="5">
                <h2>Sản phẩm đang giảm giá</h2>
                <div class="product-list">
                    <div class="product-item" th:each="product : ${indexstaff}">
                        <img th:src="@{${product.photo}}" th:alt="${product.nameProduct}">
                        <h3 th:text="${product.nameProduct}">Tên sản phẩm</h3>
                        <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">Giá sản phẩm</p>
                        <p th:text="${product.description}">Mô tả sản phẩm</p>
                        <button>Xem chi tiết</button>
                    </div>
                </div>
            </section>



            <script>

                let slideIndex = 0;
                const slides = document.querySelectorAll('.slide');
                const dots = document.querySelectorAll('.slider-dots span');
    
                function showSlide(n) {
                    slideIndex = n;
                    if (n >= slides.length) slideIndex = 0;
                    if (n < 0) slideIndex = slides.length - 1;
                    
                    slides.forEach(slide => slide.classList.remove('active'));
                    dots.forEach(dot => dot.classList.remove('active'));
                    
                    slides[slideIndex].classList.add('active');
                    dots[slideIndex].classList.add('active');
                }
    
                function plusSlides(n) {
                    showSlide(slideIndex + n);
                }
    
                // Tự động chuyển slide mỗi 5 giây
                setInterval(() => plusSlides(1), 5000);

                
            </script>
        </main>
    </body>
</html>
